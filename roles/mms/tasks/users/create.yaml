- name: 'Users > MMS > Create: user group'
  become: true
  ansible.builtin.group:
    name: "{{ mmsGroup }}"
    state: present
  tags: ['system', 'users', 'mms']

- name: 'Users > MMS > Create: user'
  become: true
  ansible.builtin.user:
    comment: "MMS"
    groups: "{{ mmsGroup }}, sudo"
    name: "{{ mmsUsername }}"
    password: "{{ mmsPassword | password_hash }}"
    shell: /bin/bash
    state: present
#     update_password: 'on_create'
  tags: ['system', 'users', 'mms']

# - name: 'Prep > Files: Create .ansible/tmp"'
  # become: true
  # become_user: '{{ mmsUsername }}'
  # ansible.builtin.file:
  #   path: "/home/{{ mmsUsername }}/.ansible/tmp"
  #   state: directory
  # tags: ['setup', 'folders']