- name: 'Disable Screensaver'
  become: true
  become_user: '{{real_username}}'
  dconf:
    key: "/org/gnome/desktop/screensaver/lock-enabled"
    state: present
    value: "'no'"
  when: ansible_virtualization_role == 'guest'

- name: 'Disable Screensaver Idle Activation'
  become: true
  become_user: '{{real_username}}'
  dconf:
    key: "/org/gnome/desktop/screensaver/idle-activation-enabled"
    state: present
    value: "'no'"
  when: ansible_virtualization_role == 'guest'

- name: 'Disable blank screen timeout'
  become: true
  become_user: '{{real_username}}'
  dconf:
    key: '/org/gnome/desktop/session/idle-delay'
    state: present
    value: "'0'"
  when: ansible_virtualization_role == 'guest'